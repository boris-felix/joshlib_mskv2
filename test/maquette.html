<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Maquette</title>

	<link rel="stylesheet" href="../css/flarevideo/flarevideo.css" media="screen">
	<link rel="stylesheet" href="../css/flarevideo/flarevideo.vimeo.css" media="screen">

	<script src="../js/libs/modernizr-1.6.min.js"></script>




  <script src="http://localhost:8889/HEAD/js/josh.js"></script> 


	
	<script>
		//<![CDATA[  <script src="basics/--generic.js">
		
		var style='/* Ceci est la déclaration de style embarquée et injectée  */';
		var body='<!-- Ceci est le HTML injecté -->';
		
		var menu = new Joshlib.Menu();
		
		var populate = function(){};
		
		(function(J,$){
				J.Pane = J.Class(
					{
						currentHighlight : 0, // élément actuellement highlighté
						positions  : [], // liste des éléments où l'on peut circuler
						neighbours : [],   // par id puis mouvement : left right up down . 
						
						moveTo  : function()
								{
									
								},
						
						moveLeft : function()
								{
									var to = this.neighbours[currentHighlight]['left'];
									if (to !== undefined)
									{
										this.currentHighlight=to;
									} 
								},
						
						moveRight : function()
								{
									var to = this.neighbours[currentHighlight]['right'];
									if (to !== undefined)
									{
										this.currentHighlight=to;
									} 
								},
						moveUp : function()
								{
									var to = this.neighbours[currentHighlight]['up'];
									if (to === undefined)
									{
										this.moveLeft();
									} else {
									}
								},
						moveDown : function()
								{
									var to = this.neighbours[currentHighlight]['down'];
									if (to === undefined)
									{
										this.moveRight();
									} else {
									}
								},
						moveStart : function()
								{
									// va-t-on au dernier élément, ou le plus à gauche de celui actuel ?
									var to=this.currentHighlight;
									var st=this.currentHighlight;
									while (st!==undefined)
									{
										lo=st;
										st=this.neighbours[lo]['left'];
									}
									
								},
						moveEnd : function()
								{
									// va-t-on au dernier élément, ou le plus à droite de celui actuel ?
								},
						movePageUp : function()
								{
									// va-t-on au dernier élément, ou le plus en haut de celui actuel ?
								},
						movePageDown : function()
								{
									// va-t-on au dernier élément, ou le plus en bas de celui actuel ?
								},
					}
				);
	
		})(Joshlib,jQuery);

		
		
		//<script src="basics/--generic.js"> ]]>
	</script>
	
	<script>
		//<![CDATA[  <script src="basics/-generic-browser.js">
		
		//<script src="basics/-generic-browser.js"> ]]>
	</script>

	<script>
		//<![CDATA[  <script src="channels/france24fr/--chart.js">
		// déclaration de la charte graphique propre à france 24
		style='\
					body {  background : rgba(0 , 127 , 255 , 0.5) ; color : white;  }    \
					';
		body='\
					<h1>France 24, l\'information à la demande</h1>							\
					<p>Un instant...</p>   													\
					<button id="play"></button>												\
					';
		
		populate = function()
		{
			// à partir de menu , j'insère les éléments récupérés dans le jsonp
			
			$.ajax({                                                                                      
				url: "http://jsonpify.heroku.com/?resource=http://api.france24.com/fr/services/json-rpc/emission_list%3Fdatabases%3Df24fr%26key%3DXXX&format=json",  
				dataType: 'jsonp',                                                                          
				success: function(data)
				{
console.log(data);
					var data = data.result.f24fr.list;
					for ( var i in data)
					{
console.info(data[i]);
						menu.setData(i,data[i]);
					}
				}           
			});

		};
		
		actions = function()
		{
			$('#play').live('click',function()
				{
					$('#video').play();
				});
		}
		
		
		//<script src="channels/france24fr/--chart.js"> ]]>
	</script>
	
	
	
	<script>
		//<![CDATA[  <script src="main.js">
		// pour des raisons de lisibilité, je mets le main après

		$(document).ready(function(){
			$('head').append('<style>'+style+'</style>');
			$('body').html(body);
			
			populate();
			console.log(menu);
		});

		//<script src="main.js"> ]]>
	</script>

</head>
	<body />
</html>